# 画面仕様書：接待交際費一覧画面

---

## 基本情報

- 画面名：接待交際費一覧画面
- URL：`/expenses/entertainment`
- HTTPメソッド：GET
- Controller：`EntertainmentExpenseController@index`
- Blade：`resources/views/entertainment_expenses/index.blade.php`
- 渡すデータ：
  - ログインユーザー情報
  - 該当ユーザーの expenses（expense_type='entertainment'）
  - 対応する entertainment_expenses 明細
  - ステータス情報、合計金額など

---

## 使用テーブル

| テーブル名               | 用途                                      |
|--------------------------|-------------------------------------------|
| `expenses`               | 共通情報（ユーザー、日付、金額、ステータス） |
| `entertainment_expenses` | 明細情報（接待先、目的、金額など）          |
| `users`                  | ログインユーザー情報                       |

---

## 表示項目

| 項目         | 説明                             |
|--------------|----------------------------------|
| 実施日       | 接待実施日                        |
| 接待相手     | 会社名・担当者名など               |
| 接待場所     | 店名・施設名など                   |
| 金額合計     | 明細合算金額                       |
| ステータス   | 下書き・申請中・承認済              |
| 操作         | 編集・申請・承認（ロール制御）      |

---

## ボタン・機能

| ボタン名   | 機能                                      | 備考                   |
|------------|-------------------------------------------|------------------------|
| 新規作成   | `/expenses/entertainment/create` に遷移     | 明細1行からスタート       |
| 編集       | `draft` のみ可能                            |                        |
| 申請       | 明細必須・入力チェックあり                    |                        |
| 承認       | `submitted` のみ可／承認者ロールのみ表示      |                        |
| CSV出力    | `submitted`, `approved` のみ出力対象         | 管理・集計利用も想定       |

---

## 認証・権限

| ロール            | 表示対象             | 操作内容                     |
|-------------------|----------------------|------------------------------|
| 一般ユーザー        | 自身の申請             | 新規・編集・申請・出力可能       |
| 承認者（is_approver） | 承認対象申請（申請中）    | 承認可能                       |
| 管理者（is_admin）   | 全ユーザーの申請           | 編集補助・出力可能             |

---

## ステータス

| コード       | 表示名   |
|--------------|----------|
| `draft`      | 下書き   |
| `submitted`  | 申請中   |
| `approved`   | 承認済   |

---
