
# 画面仕様書：出張旅費 新規作成画面

---

## 基本情報

- **画面名**：出張旅費 新規作成
- **URL**：`/expenses/business_trip/create`
- **HTTP メソッド**：GET
- **Controller**：`BusinessTripController@create`
- **Blade テンプレート**：`resources/views/business_trip/create.blade.php`
- **渡すデータ**：
    - ログインユーザー情報（`auth()` により取得）

---

## 使用テーブル

| テーブル名               | 用途                             |
| ------------------------ | -------------------------------- |
| `expenses`               | 経費共通情報（申請者、ステータス） |
| `business_trip_expenses` | 明細情報（出発地、目的地、金額など） |

---

## 入力項目

| 項目         | 入力内容例         | 補足                     |
| ------------ | ------------------ | ------------------------ |
| 出張日       | `2024-01-01`       | 日付を1件以上入力必須    |
| 出発地       | `東京`             |                          |
| 目的地       | `大阪`             |                          |
| 目的         | `会議出席`         |                          |
| 金額         | `12000`            | 数値で入力               |
| 領収書添付   | `ファイル選択`     | 添付必須（PDF推奨）      |
| 備考         | `メモなど任意記入` | 任意                     |

---

## ボタン一覧

| ボタン名 | 機能                           | 備考                    |
| -------- | ------------------------------ | ----------------------- |
| 明細追加 | 明細行を追加                   | JavaScript動作          |
| 明細削除 | 任意の明細行を削除             | JavaScript動作          |
| 登録     | 入力データをPOSTで保存         | バリデーションあり      |
| 戻る     | 一覧画面（`/expenses/business_trip`）に戻る |                     |

---

## バリデーション

- 出張日は1件以上必須
- 領収書添付は必須
- 金額は数値かつ0より大きい

---

## 認証・権限

| ロール         | 操作内容               |
| -------------- | ---------------------- |
| 一般ユーザー   | 作成・登録             |
| 承認者・管理者 | 対象外（作成不可）     |

---

## 備考

- 明細は最初に1件表示し、ユーザーが追加可能
- 保存時は `expenses` と `business_trip_expenses` に同時保存
